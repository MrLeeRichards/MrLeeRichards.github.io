<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snow</title>
</head>
<body>
    <style>
        body {
            padding:0px;
            margin:0px;
            overflow: hidden;
        }
    </style>
    <script src="/includes/p5.min.js"></script>
    <script>
        const FLAKE_COUNT = 1000;
        let COLOR1;
        let COLOR2;
        let COLOR3;

        function setup() {
            createCanvas(screen.width, screen.height);
            noStroke();

            COLOR1 = color(10,240,255);
            COLOR2 = color(10,10,255);
            COLOR3 = color(255);
        }

        function draw() {
            blendMode(BLEND);
            background(5,10,40);
            blendMode(ADD);

            for (let i = 0; i < FLAKE_COUNT; i++) {
                fill(lerpColor(lerpColor(COLOR1, COLOR2, noise(i,4,1)), COLOR3, contrast(noise(i,4,GetTime()))))
                circle(
                    sin(GetTime() * noise(i * 0.01,2,1)) * noise(i,2,2) * 500 + width * noise(i,2,3) * 1.5 - width * 0.25,
                    (GetTime() * (0.25 + 0.75 * noise(i,1,3)) * height * 1.5 + noise(i,1,2) * height * 5) % (height * 1.5) - height * 0.25,
                    noise(i,3,GetTime()) * 7 + 1
                );
            }
        }

        function GetTime() {
            return millis() * 0.0003;
        }

        function contrast(val) {
            return constrain(val * 1.5 - .25, 0, 1);
        }
    </script>
</body>
</html>